/*
 * =====================================================================================
 *
 *       Filename:  main.c
 *
 *    Description:  实时时钟试验
 *
 *        Version:  1.0.0
 *        Created:  2010.4.16
 *       Revision:  none
 *       Compiler:  Nios II 9.0 IDE
 *
 *         Author:  马瑞 (AVIC)
 *			Email:  avic633@gmail.com  
 *			  URL:  http://kingst.cnblogs.com
 *
 * =====================================================================================
 */


/*-----------------------------------------------------------------------------
 * Include 
 *-----------------------------------------------------------------------------*/
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <string.h>
#include "../inc/ds1302.h"

/*-----------------------------------------------------------------------------
 * Variable 
 *-----------------------------------------------------------------------------*/
unsigned char time[7] = {0x00,0x19,0x14,0x17,0x03,0x17,0x10};//格式为: 秒 分 时 日 月 星期 年

/* 
 * ===  FUNCTION  ======================================================================
 *         Name:  main
 *  Description:  主函数
 * =====================================================================================
 */
int main()
{      
    ds1302.set_time(time); //设置实时时钟的时间
      
    while(1){
        ds1302.get_time(time);          //采集时间
        printf("20%d-%d-%d %d:%d:%d\n",time[6],time[4],time[3],time[2],time[1],time[0]);
        usleep(100000);
    }
        
    return 0;
}

